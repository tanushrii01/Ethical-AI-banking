<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Governance Dashboard - Ethical AI Banking</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <div class="logo">
                <span style="font-size: 1.5rem;">üõ°Ô∏è</span>
                <span>Admin Portal - AI Governance</span>
            </div>
            <div class="user-info">
                <span class="user-name">{{ user.name if user else 'Admin' }}</span>
                <div class="user-avatar">{{ user.name|initials if user else 'AD' }}</div>
                <a href="{{ url_for('logout') }}" class="btn-logout">Logout</a>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <h1 class="page-title">AI Governance & Audit Dashboard</h1>
        <p class="page-subtitle">Monitor AI systems for compliance, fairness, and performance</p>

        <div style="margin-bottom: 2rem;">
            <a href="{{ url_for('human_review') }}" class="btn btn-primary" style="margin-right: 0.5rem; display: inline-block;">üìã View Review Queue</a>
            <button class="btn btn-secondary" onclick="downloadReport()">üì• Download Full Report</button>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon" style="background: #dbeafe; color: #2563eb;">üìä</div>
                <div class="stat-label">Total AI Decisions</div>
                <div class="stat-value">12,847</div>
                <div style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 0.5rem;">This month</div>
            </div>

            <div class="stat-card">
                <div class="stat-icon" style="background: #d1fae5; color: #10b981;">‚úÖ</div>
                <div class="stat-label">Compliance Rate</div>
                <div class="stat-value">98.5%</div>
                <div style="color: var(--success); font-size: 0.9rem; margin-top: 0.5rem;">‚Üë GDPR, Basel III</div>
            </div>

            <div class="stat-card">
                <div class="stat-icon" style="background: #fef3c7; color: #f59e0b;">‚öñÔ∏è</div>
                <div class="stat-label">Fairness Score</div>
                <div class="stat-value">92.3%</div>
                <div style="color: var(--warning); font-size: 0.9rem; margin-top: 0.5rem;">‚ö†Ô∏è Monitor geography</div>
            </div>

            <div class="stat-card">
                <div class="stat-icon" style="background: #fee2e2; color: #ef4444;">üö®</div>
                <div class="stat-label">Pending Reviews</div>
                <div class="stat-value">3</div>
                <div style="color: var(--danger); font-size: 0.9rem; margin-top: 0.5rem;">Requires attention</div>
            </div>
        </div>

        <div class="grid-2">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Model Performance</h3>
                </div>
                <div class="chart-container">
                    <div class="chart-bar">
                        <div class="chart-label">Accuracy</div>
                        <div class="chart-bar-fill" style="width: 96%; background: var(--success);">96%</div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Precision</div>
                        <div class="chart-bar-fill" style="width: 94%; background: var(--success);">94%</div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Recall</div>
                        <div class="chart-bar-fill" style="width: 91%; background: var(--primary);">91%</div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">F1 Score</div>
                        <div class="chart-bar-fill" style="width: 92%; background: var(--primary);">92%</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Fairness Metrics by Demographics</h3>
                </div>
                <div class="chart-container">
                    <div class="chart-bar">
                        <div class="chart-label">Gender</div>
                        <div class="chart-bar-fill" style="width: 95%; background: var(--success);">95%</div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Age</div>
                        <div class="chart-bar-fill" style="width: 93%; background: var(--success);">93%</div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Geography</div>
                        <div class="chart-bar-fill" style="width: 78%; background: var(--warning);">78%</div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Ethnicity</div>
                        <div class="chart-bar-fill" style="width: 91%; background: var(--primary);">91%</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Recent Audit Log</h3>
            </div>
            <table class="table">
                <thead>
                    <tr>
                        <th>Timestamp</th>
                        <th>Event Type</th>
                        <th>Model</th>
                        <th>User</th>
                        <th>Details</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2024-11-22 15:30</td>
                        <td><span class="badge badge-info">Model Updated</span></td>
                        <td>Credit Scoring AI</td>
                        <td>Admin User</td>
                        <td>Bias mitigation applied</td>
                    </tr>
                    <tr>
                        <td>2024-11-22 14:15</td>
                        <td><span class="badge badge-warning">Manual Override</span></td>
                        <td>Fraud Detection</td>
                        <td>Compliance Officer</td>
                        <td>False positive corrected</td>
                    </tr>
                    <tr>
                        <td>2024-11-22 13:45</td>
                        <td><span class="badge badge-success">Audit Completed</span></td>
                        <td>Risk Assessment</td>
                        <td>System</td>
                        <td>GDPR compliance verified</td>
                    </tr>
                    <tr>
                        <td>2024-11-22 12:20</td>
                        <td><span class="badge badge-info">Decision Explained</span></td>
                        <td>Credit Scoring AI</td>
                        <td>Customer #8492</td>
                        <td>Loan approval explanation generated</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>
</html>